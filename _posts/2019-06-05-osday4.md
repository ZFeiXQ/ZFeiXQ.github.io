---
layout: post
title: "30天自制操作系统之day4
"
description: "os"
category: 学习技术
tags: [基础知识]
---
{% include JB/setup %}
##1.干了什么

画面的显示
作者在操作系统界面上画了三个框，实现色彩界面


##2.内容

在操作系统上实现界面，需要往vram数组（内存）中写数据，作者在naskfunc.nas实现了内存写操作，然后用个for训话实现了内存写，从而显示了不同的色彩，之后作者引入指针的概念*P，其中p是地址，*p是p地址中的内容。
以下可以认为是等价的！
char *p =================byte[p]
short *p=================word[p]
int *p===================Dword[p]
还有就是数组的本质其实也是指针

例如:p[i]与*（p+1）是相同的，当然p[0]也可以写成*p，或者是0[p],hahaha

后期需要给操作系统描绘一个样子需要干点正事了。。。。。。。

1.色号设定：

定义个数组存里面

2.设置调色板：

首先访问屏蔽中断（如CLI）

将要设定调色板的号码写入0x03c8，接着按R,G,B的顺序写入0x03c9，如果想继续设定调色板的话，省略调色版号码，按照R，G，B的顺序继续写入就好

如果想要读出RGB的状态，首先要将调色板的号码0x03c7，在从0x03c9读取三次

如果最初执行了CLI，最后要指向STI

3.画画 ：就是将相关的数据写入到vram[]数组中




##3.后面干了什么呢？？？？

CLI指令：设置中断标志位（IF）为0

STI指令：设置中断标志位为1.

##4.相关的知识点：

1.相关文件的作用

##5.参考

30天自制操作系统前63页
